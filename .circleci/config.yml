version: 2.1

executors:
  python:
    docker:
      - image: python:3.11
    # environment:
    #   AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID
    #   AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY
    #   SAGEMAKER_EXECUTION_ROLE: $SAGEMAKER_EXECUTION_ROLE

jobs:
  gather-data:
    executor: python
    steps:
      - checkout
      - run: echo $AWS_ACCESS_KEY_ID
      - run: pip install -r requirements.txt --upgrade
      - run: python model1/gather_data.py

workflows:
  model1:
    jobs:
      - gather-data